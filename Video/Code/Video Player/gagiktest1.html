<!DOCTYPE html>
<html> 
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>P3</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>


<link rel="stylesheet" href="../../johndyer-mediaelement-8adf73f/build/mediaelementplayer.css" />
<link rel="stylesheet" href="../../mediaelement-playlist-plugin-master/_build/mediaelement-playlist-plugin.min.css">
<link rel="stylesheet" href="gagiktest1.css" />

</head>

<body>
    <p id="jobtitle"> </p>
<p id="vidtitle"></p>
<div onclick="updateTitle()">
<video 
    data-showplaylist="true" 
    class="mep-playlist"
    width="530" 
    height="300"
    id="vidtag"
    autoplay="true"
    >

</video>
<div style="margin-left:430px; margin-top: 10px">
    <a href="#up"><img src="http://clipartcow.com/wp-content/uploads/2016/03/Thumbs-up-thumb-up-clip-art-clipart-2.png" width="30px"></a>
    <a href="#mid"><img src="middlethumb.jpg" width="30px"></a>
    <a href="#down"><img src="https://openclipart.org/image/2400px/svg_to_png/214030/Thumbs-Down-Circle.png" width="30px"></a>
    <a href="#next" onclick="nextVideo()"><img src="http://cdn.mysitemyway.com/etc-mysitemyway/icons/legacy-previews/icons-256/green-jelly-icons-arrows/008475-green-jelly-icon-arrows-arrow-thick-right.png" width="30px">
</div>
</div>
<script>
    function updateTitle(){
      document.getElementById("vidtitle").textContent = document.getElementsByClassName("current")[0].textContent;
    }
        var files = [   "1 What do you do as a teacher.m4v", 
                        "2 What skills have led you to this job that you are so passionate about.mp4",
                        "3 What makes you excited to come to work.mp4",
                        "4 Please explain a time when you experienced passion for your job.mp4",
                        "5 What are one or two things that you have done that make you most proud of your work.mp4",
                        "6 What are the things you love the most about your career.mp4",
                        "7 Tell me about a specific instance when you were fully absorbed in your work.mp4",
                        "8 Are there any other ways that your work is meaningful to you.mp4",
                        "9 What are some of your favorite things about being a teacher.mp4",
                        "10 What do you want to be remembered for in your line of work.mp4"
                        ];
        var files2 = [ "1 How do you identify with the definition of passion .m4v",
                       "2 What do you find to be the most important part of your job.m4v",
                       "3 What do you do as a special education teacher.m4v",
                       "4 What do you find most rewarding about your job .m4v",
                       "5 When do you feel passion in your work .m4v",
                       "6 When do you feel absorbed in your work .m4v",
                       "7 How is your job meaningful.m4v",
                       "8 When did you know you wanted to become a special education teacher.m4v"
                       ]
    function getURLParameter(name) {
          return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20'))||null;
    }

    function nextVideo(){
        var person = getURLParameter('person');
        if (person == "Amy"){
            window.location.href = 'gagiktest1.html?person=Melody';
        }
        else 
            window.location.href = 'gagiktest1.html?person=Amy';
    }
        var curfiles = files;
        for (var i=0; i<curfiles.length; i++){
            // alert(files[i]);
            var before = document.getElementById("vidtag").innerHTML;
            // alert(before);
            var person = getURLParameter('person') + '/';
            if (person == "Melody/")
                curfiles = files2;
            var no_number = curfiles[i].substring(1);
            var question = no_number.substring(0, no_number.length - 4) + '?';
            
            var after = before + "\n <source type='video/mp4' src='./P3Videos/" + person + curfiles[i] + "' title='" + question + "' data-poster='track2.png'>"
            document.getElementById("vidtag").innerHTML = after;
        }
        var person = getURLParameter('person');
        if (person == "Amy"){
            document.getElementById("jobtitle").innerHTML = "Middle School Teacher";
        } 
        else if (person == "Melody"){
            document.getElementById("jobtitle").innerHTML = "Special Education Teacher";
        }
    


</script>
<script src="../../johndyer-mediaelement-8adf73f/build/mediaelement-and-player.min.js"></script>
<script src="../../mediaelement-playlist-plugin-master/_build/mediaelement-playlist-plugin.min.js"></script>
<script>

        // video playlist
    $('video.mep-playlist').mediaelementplayer({
        "features": ['playlistfeature', 'prevtrack', 'playpause', 'nexttrack', 'current', 'progress', 'duration', 'volume', 'playlist', 'fullscreen', ],
        "shuffle": false,
        "loop": false
    });

    // audio playlist
    $('audio.mep-playlist').mediaelementplayer({
        "features": ['playlistfeature', 'prevtrack', 'playpause', 'nexttrack', 'loop', 'shuffle', 'current', 'progress', 'duration', 'volume', 'playlist'],
        "audioVolume": "vertical", // just like video player
        "shuffle": false,
        "loop": false
    });

    // regular video
    $('video:not(.mep-playlist)').mediaelementplayer({
        "features": ['playpause', 'current', 'progress', 'duration', 'tracks', 'volume', 'fullscreen'],
    });
    updateTitle();

</script>
</body>
</html>